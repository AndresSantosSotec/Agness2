import{w as i,r as a,O as c}from"./chunk-NL6KNZEE-igR-ERF4.js";import{j as o}from"./jsx-runtime-D_zvdyIk.js";import{a as r}from"./client-DVUqMjJO.js";import{u}from"./authStore-Du5Ti9MW.js";const l=typeof window<"u",x=i(function(){const[s,n]=a.useState(!1);return a.useEffect(()=>{n(!0);const e=localStorage.getItem("token");e&&(r.defaults.headers.common.Authorization=`Bearer ${e}`,(async()=>{try{const t=await r.get("/api/user");t.status===200&&u.getState().login({user:t.data,token:e})}catch(t){console.error("Error al verificar el token:",t),localStorage.removeItem("token"),delete r.defaults.headers.common.Authorization}})())},[]),!l||!s?o.jsx("div",{className:"app-container",children:"Cargando..."}):o.jsx("div",{className:"app-container",children:o.jsx(c,{})})});export{x as default};
